{% extends "layout.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<br><br><br><body class="starter-template text-center py-2">Utilizing natural language processing we can investigate common n-grams in the recipe name across all recipes.  The term-frequency times the inverse document-frequency (tf-idf) is calculated in scikit learn using their <a href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html">tfidfVectorizer</a>.  This method counts all the occurrences of a given word and normalizes the counts by the Euclidean length of the vector of word occurrence counts (L<sup>2</sup>), this value is the tf in tf-idf.  The idf, or inverse document frequency is the log of all the documents divided by the count of the documents containing the word of interest.  Multiplying by the idf helps account for words that appear in all recipes, if a word appears in all the recipes its idf will tend toward zero.</body><br><br><head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "axis": {"labelFontSize": 12}}, "vconcat": [{"hconcat": [{"data": {"name": "data-1d755f8d01993fab4a4870bc76432ff3"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Single Words", "sort": null}}, "height": 500, "width": 500}, {"data": {"name": "data-e5609d344e9a064c317ac95af5f5b56f"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Bigrams", "sort": null}}, "height": 500, "width": 500}]}, {"hconcat": [{"data": {"name": "data-1354930e329558276fe0f70ebd838bbe"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Trigrams", "sort": null}}, "height": 500, "width": 500}, {"data": {"name": "data-64b90c50e7603a32199d783e7814ed94"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Quadgrams", "sort": null}}, "height": 500, "width": 500}]}], "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-1d755f8d01993fab4a4870bc76432ff3": [{"Single Words": "Chicken", "TFIDF Score": 26064.68587719694}, {"Single Words": "Salad", "TFIDF Score": 19546.658997588846}, {"Single Words": "Sauce", "TFIDF Score": 12956.108473091008}, {"Single Words": "Soup", "TFIDF Score": 12000.013336955999}, {"Single Words": "Chocolate", "TFIDF Score": 11096.444474494001}, {"Single Words": "Cake", "TFIDF Score": 10764.954882737398}, {"Single Words": "Cheese", "TFIDF Score": 9900.684342203545}, {"Single Words": "Pie", "TFIDF Score": 8640.535528548802}, {"Single Words": "Cookies", "TFIDF Score": 8298.676919216958}, {"Single Words": "Bread", "TFIDF Score": 7653.171989179344}, {"Single Words": "Roasted", "TFIDF Score": 7224.0606682742355}, {"Single Words": "Pork", "TFIDF Score": 6983.762375321867}, {"Single Words": "Shrimp", "TFIDF Score": 6745.846177740639}, {"Single Words": "Grilled", "TFIDF Score": 6305.955511123559}, {"Single Words": "Cream", "TFIDF Score": 6146.624697443785}, {"Single Words": "Pasta", "TFIDF Score": 5868.823097370329}, {"Single Words": "Potato", "TFIDF Score": 5731.62881006906}, {"Single Words": "Lemon", "TFIDF Score": 5619.109168245085}, {"Single Words": "Rice", "TFIDF Score": 5611.537067744504}, {"Single Words": "Sweet", "TFIDF Score": 5223.562386813248}], "data-e5609d344e9a064c317ac95af5f5b56f": [{"Bigrams": "Peanut butter", "TFIDF Score": 2493.5056588012385}, {"Bigrams": "Sweet potato", "TFIDF Score": 2417.343230573496}, {"Bigrams": "Chocolate chip", "TFIDF Score": 2006.4991496612922}, {"Bigrams": "Slow cooker", "TFIDF Score": 1848.6340926547016}, {"Bigrams": "Black bean", "TFIDF Score": 1800.788010060058}, {"Bigrams": "Ice cream", "TFIDF Score": 1719.9977113274404}, {"Bigrams": "Goat cheese", "TFIDF Score": 1550.5466332287594}, {"Bigrams": "Butternut squash", "TFIDF Score": 1509.5959743477645}, {"Bigrams": "Pork chops", "TFIDF Score": 1505.606774984556}, {"Bigrams": "Chicken salad", "TFIDF Score": 1331.4652605767953}, {"Bigrams": "Cream cheese", "TFIDF Score": 1264.3097950489762}, {"Bigrams": "Potato salad", "TFIDF Score": 1248.0237336540522}, {"Bigrams": "Gluten free", "TFIDF Score": 1194.206834739174}, {"Bigrams": "Green beans", "TFIDF Score": 1123.797072899152}, {"Bigrams": "Banana bread", "TFIDF Score": 1113.4877525503266}, {"Bigrams": "Stir fry", "TFIDF Score": 1105.6815524159645}, {"Bigrams": "Chocolate cake", "TFIDF Score": 1085.6768902725344}, {"Bigrams": "Chip cookies", "TFIDF Score": 1066.7220576495213}, {"Bigrams": "Pasta salad", "TFIDF Score": 998.4682534185079}, {"Bigrams": "Pork tenderloin", "TFIDF Score": 994.343146506813}], "data-1354930e329558276fe0f70ebd838bbe": [{"Trigrams": "Chocolate chip cookies", "TFIDF Score": 1214.824920391708}, {"Trigrams": "Chicken pot pie", "TFIDF Score": 402.7766438120059}, {"Trigrams": "Peanut butter cookies", "TFIDF Score": 382.01626179448704}, {"Trigrams": "Chocolate peanut butter", "TFIDF Score": 367.1218149706061}, {"Trigrams": "Butternut squash soup", "TFIDF Score": 354.7940227956026}, {"Trigrams": "Roasted red pepper", "TFIDF Score": 340.8215206089812}, {"Trigrams": "Cream cheese frosting", "TFIDF Score": 333.0}, {"Trigrams": "Sweet potato casserole", "TFIDF Score": 328.0}, {"Trigrams": "Sun dried tomato", "TFIDF Score": 327.8353168170584}, {"Trigrams": "Green bean casserole", "TFIDF Score": 309.0}, {"Trigrams": "Black bean soup", "TFIDF Score": 292.0}, {"Trigrams": "Buffalo chicken dip", "TFIDF Score": 241.0}, {"Trigrams": "Roasted butternut squash", "TFIDF Score": 236.48188302909372}, {"Trigrams": "Key lime pie", "TFIDF Score": 224.0}, {"Trigrams": "Slow cooker chicken", "TFIDF Score": 223.72834136051588}, {"Trigrams": "Chocolate chip cookie", "TFIDF Score": 217.10736010422266}, {"Trigrams": "Chicken tortilla soup", "TFIDF Score": 214.89619855022312}, {"Trigrams": "Chicken noodle soup", "TFIDF Score": 206.84751896791482}, {"Trigrams": "Peanut butter chocolate", "TFIDF Score": 199.14620582171997}, {"Trigrams": "French onion soup", "TFIDF Score": 194.0}], "data-64b90c50e7603a32199d783e7814ed94": [{"Quadgrams": "Oatmeal chocolate chip cookies", "TFIDF Score": 132.0}, {"Quadgrams": "Peanut butter chocolate chip", "TFIDF Score": 94.46566646914656}, {"Quadgrams": "Sour cream coffee cake", "TFIDF Score": 94.0}, {"Quadgrams": "White bean chicken chili", "TFIDF Score": 85.0}, {"Quadgrams": "Chocolate chip cookie dough", "TFIDF Score": 72.49332634158026}, {"Quadgrams": "Cake cream cheese frosting", "TFIDF Score": 70.2914924050458}, {"Quadgrams": "New england clam chowder", "TFIDF Score": 62.0}, {"Quadgrams": "Best chocolate chip cookies", "TFIDF Score": 58.0}, {"Quadgrams": "Chocolate chip oatmeal cookies", "TFIDF Score": 53.0}, {"Quadgrams": "Chicken wild rice soup", "TFIDF Score": 53.0}, {"Quadgrams": "Slow cooker pot roast", "TFIDF Score": 51.0}, {"Quadgrams": "Roasted butternut squash soup", "TFIDF Score": 49.0}, {"Quadgrams": "Roasted squash spinach cannelloni", "TFIDF Score": 48.0}, {"Quadgrams": "Slow cooker pulled pork", "TFIDF Score": 46.0}, {"Quadgrams": "Grand central oyster bar", "TFIDF Score": 46.0}, {"Quadgrams": "Butter chocolate chip cookies", "TFIDF Score": 44.29714244871936}, {"Quadgrams": "Chewy chocolate chip cookies", "TFIDF Score": 44.0}, {"Quadgrams": "Pumpkin chocolate chip cookies", "TFIDF Score": 43.0}, {"Quadgrams": "Braised beef short ribs", "TFIDF Score": 43.0}, {"Quadgrams": "Carrot cake cream cheese", "TFIDF Score": 37.53158563363616}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>

{% endblock %}