{% extends "layout.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<br><br><br><body class="starter-template text-center py-2">Utilizing natural language processing we can investigate common n-grams in the ingredients list across all recipes.  The term-frequency times the inverse document-frequency (tf-idf) is calculated in scikit learn using their <a href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html">tfidfVectorizer</a>.  This method counts all the occurrences of a given word and normalizes the counts by the Euclidean length of the vector of word occurrence counts (L<sup>2</sup>), this value is the tf in tf-idf.  The idf, or inverse document frequency is the log of all the documents divided by the count of the documents containing the word of interest.  Multiplying by the idf helps account for words that appear in all recipes, if a word appears in all the recipes its idf will tend toward zero.</body><br><br><head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "axis": {"labelFontSize": 12}}, "vconcat": [{"hconcat": [{"data": {"name": "data-0ca6a191653e2098a903d1b167cd863b"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Single Words", "sort": null}}, "height": 500, "width": 500}, {"data": {"name": "data-fcdd3f29368b28acba9b2abccb0369d4"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Bigrams", "sort": null}}, "height": 500, "width": 500}]}, {"hconcat": [{"data": {"name": "data-9839902bd266d61a9879ab13e10393f0"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Trigrams", "sort": null}}, "height": 500, "width": 500}, {"data": {"name": "data-c40f9be1965595033bac86695f3c45f5"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "field": "TFIDF Score"}, "y": {"type": "nominal", "field": "Quadgrams", "sort": null}}, "height": 500, "width": 500}]}], "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-0ca6a191653e2098a903d1b167cd863b": [{"Single Words": "Chopped", "TFIDF Score": 54331.3506923694}, {"Single Words": "Sugar", "TFIDF Score": 52297.295664359284}, {"Single Words": "Salt", "TFIDF Score": 49003.69165799077}, {"Single Words": "Tablespoons", "TFIDF Score": 47470.0691951906}, {"Single Words": "Pepper", "TFIDF Score": 43616.17560958553}, {"Single Words": "Butter", "TFIDF Score": 40585.12385070439}, {"Single Words": "Oil", "TFIDF Score": 39310.452419379915}, {"Single Words": "Fresh", "TFIDF Score": 37924.69995148247}, {"Single Words": "Ground", "TFIDF Score": 35057.71500568344}, {"Single Words": "Flour", "TFIDF Score": 33661.867864396445}, {"Single Words": "Cheese", "TFIDF Score": 33059.88748717734}, {"Single Words": "Garlic", "TFIDF Score": 32065.180977379816}, {"Single Words": "Large", "TFIDF Score": 28137.194453080734}, {"Single Words": "Sliced", "TFIDF Score": 27509.49318760018}, {"Single Words": "Onion", "TFIDF Score": 27310.86483758017}, {"Single Words": "Olive", "TFIDF Score": 26966.429953041552}, {"Single Words": "Oz", "TFIDF Score": 26899.323900895986}, {"Single Words": "Tbsp", "TFIDF Score": 26007.67993186618}, {"Single Words": "Red", "TFIDF Score": 23878.111875572013}, {"Single Words": "Minced", "TFIDF Score": 22294.83856583549}], "data-fcdd3f29368b28acba9b2abccb0369d4": [{"Bigrams": "Olive oil", "TFIDF Score": 42560.132352089}, {"Bigrams": "Salt pepper", "TFIDF Score": 26562.86038543529}, {"Bigrams": "Black pepper", "TFIDF Score": 25718.68484269548}, {"Bigrams": "Brown sugar", "TFIDF Score": 23673.785897669524}, {"Bigrams": "Cloves garlic", "TFIDF Score": 20767.55918331682}, {"Bigrams": "Purpose flour", "TFIDF Score": 20219.641134517657}, {"Bigrams": "Lemon juice", "TFIDF Score": 19362.72720777503}, {"Bigrams": "Finely chopped", "TFIDF Score": 18547.723073306952}, {"Bigrams": "Pepper taste", "TFIDF Score": 16973.4691912374}, {"Bigrams": "Ground black", "TFIDF Score": 16592.409202787483}, {"Bigrams": "Unsalted butter", "TFIDF Score": 16392.894600412623}, {"Bigrams": "Baking powder", "TFIDF Score": 16118.35774918812}, {"Bigrams": "Vanilla extract", "TFIDF Score": 15971.507827755073}, {"Bigrams": "Chopped fresh", "TFIDF Score": 15455.565744161871}, {"Bigrams": "Kosher salt", "TFIDF Score": 15099.256586050546}, {"Bigrams": "Vegetable oil", "TFIDF Score": 14993.063345237926}, {"Bigrams": "Freshly ground", "TFIDF Score": 14373.736563855324}, {"Bigrams": "Thinly sliced", "TFIDF Score": 13846.002078089194}, {"Bigrams": "Virgin olive", "TFIDF Score": 10475.751762154612}, {"Bigrams": "Extra virgin", "TFIDF Score": 10462.184079479961}], "data-9839902bd266d61a9879ab13e10393f0": [{"Trigrams": "Ground black pepper", "TFIDF Score": 20337.849720420392}, {"Trigrams": "Salt pepper taste", "TFIDF Score": 13388.351326979555}, {"Trigrams": "Virgin olive oil", "TFIDF Score": 12221.880743561078}, {"Trigrams": "Extra virgin olive", "TFIDF Score": 11924.742391627617}, {"Trigrams": "Freshly ground black", "TFIDF Score": 10738.433552442802}, {"Trigrams": "Tablespoons olive oil", "TFIDF Score": 10454.358542598422}, {"Trigrams": "Cloves garlic minced", "TFIDF Score": 10195.032786258571}, {"Trigrams": "Salt freshly ground", "TFIDF Score": 9992.99642676665}, {"Trigrams": "Fresh lemon juice", "TFIDF Score": 7930.845744479644}, {"Trigrams": "Red pepper flakes", "TFIDF Score": 6985.520916911598}, {"Trigrams": "Baking soda salt", "TFIDF Score": 6963.805991035519}, {"Trigrams": "Baking powder salt", "TFIDF Score": 6857.700472792858}, {"Trigrams": "Grated parmesan cheese", "TFIDF Score": 6542.644895371791}, {"Trigrams": "Tablespoons unsalted butter", "TFIDF Score": 6368.901273575269}, {"Trigrams": "Red bell pepper", "TFIDF Score": 5989.358198220499}, {"Trigrams": "Salt black pepper", "TFIDF Score": 5797.030773153994}, {"Trigrams": "Black pepper taste", "TFIDF Score": 5789.5300281736545}, {"Trigrams": "Freshly ground pepper", "TFIDF Score": 5672.3951901485825}, {"Trigrams": "Garlic cloves minced", "TFIDF Score": 5416.376301083389}, {"Trigrams": "Kosher salt freshly", "TFIDF Score": 4176.324564530102}], "data-c40f9be1965595033bac86695f3c45f5": [{"Quadgrams": "Extra virgin olive oil", "TFIDF Score": 15716.394535402093}, {"Quadgrams": "Freshly ground black pepper", "TFIDF Score": 13221.425401134773}, {"Quadgrams": "Salt freshly ground black", "TFIDF Score": 8120.077841884562}, {"Quadgrams": "Salt ground black pepper", "TFIDF Score": 5526.238683059407}, {"Quadgrams": "Salt freshly ground pepper", "TFIDF Score": 5302.843241658539}, {"Quadgrams": "Ground black pepper taste", "TFIDF Score": 4782.991470400036}, {"Quadgrams": "Kosher salt freshly ground", "TFIDF Score": 4475.831968068644}, {"Quadgrams": "Tablespoons extra virgin olive", "TFIDF Score": 4224.418150989635}, {"Quadgrams": "Baking powder baking soda", "TFIDF Score": 3546.50441752496}, {"Quadgrams": "Boneless skinless chicken breasts", "TFIDF Score": 2752.876567922177}, {"Quadgrams": "Unsalted butter room temperature", "TFIDF Score": 2728.6544784006833}, {"Quadgrams": "Crushed red pepper flakes", "TFIDF Score": 2357.1175518292716}, {"Quadgrams": "Olive oil salt pepper", "TFIDF Score": 2343.6315185399876}, {"Quadgrams": "Purpose flour baking powder", "TFIDF Score": 2300.654037912971}, {"Quadgrams": "Tablespoons fresh lemon juice", "TFIDF Score": 2206.0157234404282}, {"Quadgrams": "Packed light brown sugar", "TFIDF Score": 2164.9739237578087}, {"Quadgrams": "Flour teaspoons baking powder", "TFIDF Score": 2089.0663077848503}, {"Quadgrams": "Olive oil cloves garlic", "TFIDF Score": 2066.91788341614}, {"Quadgrams": "Low sodium chicken broth", "TFIDF Score": 1928.3353607065487}, {"Quadgrams": "Powder baking soda salt", "TFIDF Score": 1922.2927127364874}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>

{% endblock %}